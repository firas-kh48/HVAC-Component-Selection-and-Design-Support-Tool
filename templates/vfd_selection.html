{% extends "base.html" %}
{% block content %}
<a href="/" class="btn-main" style="margin-bottom:18px;">Return to Main Screen</a>
<h1>VFD Selection</h1>
{% if selected_compressor %}
  <div style="background:#e3f2fd; border-radius:8px; padding:16px; margin-bottom:18px;">
    <b>Selected Compressor:</b> {{ selected_compressor.name }}<br>
    <b>Load:</b> {{ selected_compressor.load }} A<br>
    <b>Ambient:</b> {{ selected_compressor.ambient }} °C<br>
  </div>
{% endif %}
{% if load_current is not none and ambient_temp is not none %}
  <div style="margin-bottom:18px;">
    <strong>Current Input:</strong> {{ load_current }} A, {{ ambient_temp }} °C
  </div>
{% endif %}
{% if vfd_amp is not none %}
    <div class="result-box">
        <h2>Result</h2>
        <p><strong>Your Input:</strong><br>
        Load Current: {{ load_current }} A<br>
        Ambient Temperature: {{ ambient_temp }} °C</p>
        <p>Minimum VFD Ampacity: <strong>{{ vfd_amp|round(2) if vfd_amp != 'Invalid input.' else vfd_amp }} A</strong></p>
        {% if selected_vfd %}
            <p>Recommended VFD Current: <strong>{{ selected_vfd }} A</strong></p>
        {% else %}
            <p><strong>No standard VFD found for this ampacity.</strong></p>
        {% endif %}
        {% if selected_power %}
            <p>Recommended VFD Power: <strong>{{ selected_power }} kW</strong></p>
        {% endif %}
    </div>
{% endif %}
<h2>Market VFD’s Current/Power Table</h2>
<table>
    <tr><th>Current (A)</th><th>Power (kW)</th></tr>
    {% for amp, pwr in vfd_table %}
    <tr{% if selected_vfd and selected_power and amp == selected_vfd and pwr == selected_power %} style="background:#c3e6cb;font-weight:bold;"{% endif %}>
        <td>{{ amp }}</td>
        <td>{{ pwr }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
